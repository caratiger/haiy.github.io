---
layout: post
title: HiveSQL以及读书小结2
commentIssueId: 1
---

{{page.title}}
---
<p class='meta'>09 Aug 2015</p>

####1.HiveSQL多表join

进行多表联合join是因为建立特征的时候各个特征来源的原始表不同，所以在处理的时候需要将不同表的特征合并
到一起。
通常使用场景是这样的sql：

```SQL
select 
  a.id, b.f1, c.f2, d.f3 
from 
(
    select id from table_1 
) a 
join 
(
  select id, f1 from table_2
) b 
on a.id = b.id
left outer join
(
  select id, f2 from table_3
) c
on a.id = c.id;
join
(
  select id, f3 from table_4
)d on a.id = d.id; 
```
那么这个SQL表达的意思就是以table_1和table_2公共的id为准，从table_2，table_3,table_4中取出对应的行，如果table_3中没有
对应行的数据，那么在最终结果中这个id对应的f2列值为null。在这个SQL处理的过程中，第一个join处理完后，第一次的结果
表中就已经没有不在table_1,table_2结果中的id了。所以如果此时再去table_4中取数据，其实就会少掉只在table_1和table_4中
的id。
此外，join操作的执行是顺序的，所以最好大表在最后。

Ref：[Hive SQL Join](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Joins)


####2.各种分类器特点小结


